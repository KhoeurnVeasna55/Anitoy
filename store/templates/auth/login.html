<!DOCTYPE html>
{% load static %}
{% load widget_tweaks %}
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>Login â€¢ Anitoys</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <style>
        :root {
            --primary: #6C5CE7;
            --primary-2: #8E7CFF;
            --text: #111827;
            --muted: #6b7280;
            --card: #ffffff;
            --ring: rgba(108, 92, 231, .22);
        }

        body {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: radial-gradient(900px 500px at 15% 25%, rgba(108, 92, 231, .18), transparent 60%),
            radial-gradient(900px 500px at 85% 75%, rgba(142, 124, 255, .18), transparent 60%),
            linear-gradient(135deg, #f8fafc, #ffffff);
            color: var(--text);
        }

        .auth-wrap {
            width: 100%;
            max-width: 980px;
            padding: 24px;
        }

        .auth-card {
            background: var(--card);
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(17, 24, 39, .14),
            0 2px 10px rgba(17, 24, 39, .06);
            overflow: hidden;
            animation: pop .35s ease;
        }

        @keyframes pop {
            from {
                opacity: 0;
                transform: translateY(14px) scale(.98);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        .auth-left {
            padding: 44px 42px;
            background: linear-gradient(135deg, var(--primary), var(--primary-2));
            color: #fff;
            position: relative;
            min-height: 100%;
        }

        .auth-left::after {
            content: "";
            position: absolute;
            inset: -40px;
            background: radial-gradient(260px 260px at 20% 20%, rgba(255, 255, 255, .18), transparent 60%),
            radial-gradient(260px 260px at 80% 80%, rgba(255, 255, 255, .12), transparent 60%);
            pointer-events: none;
        }

        .brand {
            position: relative;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 800;
            letter-spacing: .2px;
            margin-bottom: 18px;
        }

        .brand-badge {
            width: 38px;
            height: 38px;
            border-radius: 12px;
            display: grid;
            place-items: center;
            background: rgba(255, 255, 255, .18);
            border: 1px solid rgba(255, 255, 255, .28);
            backdrop-filter: blur(6px);
            font-weight: 900;
        }

        .auth-right {
            padding: 44px 42px;
            background: #fff;
        }

        .title {
            font-weight: 800;
            font-size: 28px;
            margin: 0 0 6px 0;
        }

        .subtitle {
            color: var(--muted);
            margin-bottom: 22px;
        }

        .form-label {
            font-weight: 700;
            color: #374151;
            margin-bottom: 6px;
        }

        .form-control, .input-group-text {
            border-radius: 14px !important;
        }

        .form-control {
            padding: .9rem 1rem;
            border: 1px solid #e5e7eb;
            background: #fff;
            transition: box-shadow .2s, border-color .2s;
        }

        .form-control:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 .25rem var(--ring);
        }

        .input-group-text {
            background: #f9fafb;
            border: 1px solid #e5e7eb;
            color: #6b7280;
            padding: .9rem 1rem;
            min-width: 48px;
            justify-content: center;
        }

        .btn-primary {
            background: var(--primary);
            border-color: var(--primary);
            border-radius: 14px;
            padding: .95rem 1rem;
            font-weight: 800;
            letter-spacing: .2px;
            box-shadow: 0 14px 28px rgba(108, 92, 231, .25);
            transition: transform .08s ease, filter .2s;
        }

        .btn-primary:hover {
            filter: brightness(.96);
        }

        .btn-primary:active {
            transform: translateY(1px);
        }

        a {
            color: var(--primary);
            font-weight: 800;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        .help {
            color: var(--muted);
            font-size: .92rem;
        }

        .alert {
            border-radius: 14px;
        }

        .divider {
            height: 1px;
            background: #eef2f7;
            margin: 18px 0;
        }

        @media (max-width: 991px) {
            .auth-left {
                padding: 34px 28px;
            }

            .auth-right {
                padding: 34px 28px;
            }
        }
    </style>
</head>

<body>
<div class="auth-wrap">
    <div class="auth-card">
        <div class="row g-0">
            <div class="col-lg-5">
                <div class="auth-left h-100">
                    <div class="brand">
                        <div class="brand-badge">A</div>
                        <div>
                            <div style="font-size:18px; line-height:1;">Anitoys</div>
                            <div style="opacity:.85; font-weight:600; font-size:13px;">Anime collectibles in Cambodia
                            </div>
                        </div>
                    </div>

                    <h2 class="mt-3 mb-2" style="position:relative; font-weight:900;">
                        Welcome Back! ðŸ‘‹
                    </h2>
                    <p class="mb-0" style="position:relative; opacity:.9;">
                        Log in to access your profile, track your current orders, and manage your wishlist.
                    </p>

                    <div class="divider" style="position:relative; background:rgba(255,255,255,.25);"></div>

                    <ul class="mb-0" style="position:relative; padding-left: 18px; opacity:.95;">
                        <li>Secure access</li>
                        <li>Saved preferences</li>
                        <li>Quick re-ordering</li>
                    </ul>
                </div>
            </div>

            <div class="col-lg-7">
                <div class="auth-right">
                    <h1 class="title">Sign In</h1>
                    <div class="subtitle">Enter your details to continue.</div>

                    {% if messages %}
                    {% for message in messages %}
                    <div class="alert alert-{{ message.tags }}">{{ message }}</div>
                    {% endfor %}
                    {% endif %}

                    <form method="post" novalidate>
                        {% csrf_token %}

                        {% if form.non_field_errors %}
                        <div class="alert alert-danger">
                            {{ form.non_field_errors }}
                        </div>
                        {% endif %}

                        <div class="mb-3">
                            <label class="form-label">Email</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="bi bi-envelope"></i></span>
                                {{ form.username }}
                            </div>
                            <div class="help mt-1">Use the email you registered with.</div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">Password</label>
                            <div class="input-group">
                                <span class="input-group-text"><i class="bi bi-lock"></i></span>
                                {{ form.password }}
                                <button class="btn btn-outline-secondary" type="button" id="togglePass"
                                        style="border-radius: 14px; border-top-left-radius: 0 !important; border-bottom-left-radius: 0 !important;">
                                    <i class="bi bi-eye" id="eyeIcon"></i>
                                </button>
                            </div>
                        </div>

                        <div class="d-grid mt-4">
                            <button type="submit" class="btn btn-primary">
                                Sign In
                            </button>
                        </div>
                    </form>

                    <div class="mt-4 text-center help">
                        Don't have an account?
                        <a href="{% url 'register' %}">Sign Up</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    const passInput = document.getElementById("password_field");
    const toggleBtn = document.getElementById("togglePass");
    const eyeIcon = document.getElementById("eyeIcon");

    if (toggleBtn) {
        toggleBtn.addEventListener("click", () => {
            const isPass = passInput.type === "password";
            passInput.type = isPass ? "text" : "password";
            eyeIcon.className = isPass ? "bi bi-eye-slash" : "bi bi-eye";
        });
    }
</script>
</body>
</html>